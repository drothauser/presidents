            ------
            Political Party REST services API 
            ------

Political Party REST services API 

	RESTful APIs for maintaining U.S. political party data.
	
	
%{toc|class=toc|fromDepth=2|toDepth=3}
	
* <Create>

	API call that creates a new record in the {{{./db.html#PARTY_DDL}PARTY}} table.

*-------------------+---------------------------+
| <<URL:>>			| /rest/party				|
*-------------------+---------------------------+
| <<Method:>>		| POST						|
*-------------------+---------------------------+
| <<URL Params:>>	| None						|
*-------------------+---------------------------+

** Data Params

	<<Notes:>>
	
	* Set id = 0 - The database will use auto-increment to set the next id.

+---------------------
[{  
	   "id":0,
	   "name":"Socialist Party of America",
	   "foundedYear":1901,
	   "endYear":1972
}]
+---------------------

** Success Response

	<<Code:>> 200

	Plain text formatted as <<"Successfully added party ">> + <Party name> + "."
	
	<Example:>

+---------------------
[{  
   "id":7,
   "name":"Socialist Party of America",
   "foundedYear":1901,
   "endYear":1972
}]
+---------------------

** Error Response

	<<Code:>> 400, 500
	
	The detail about the error can be found in <<XMLHttpRequest.responseJSON>> 
	
	<Example: JSON.stringify(xhr.responseJSON))>

+---------------------
[{  
      "invalidValue":"com.rothsmith.presidents.party.PartyDto@21d6ee4a[  id=0  name=Federalist Party  foundedYear=2000  endYear=2000]",
      "message":"Party already exists",
      "messageTemplate":"{party.exists}",
      "path":"PartyResource.create.arg0"
}]
+---------------------

** Sample Call

	Sample call using jQuery:
	
%{include|source=src/main/webapp/js/party-functions.js|snippet=#create}

** Notes

	Last updated by drothauser 07/27/2016

* <Read>
	
	API call that reads a record from the PARTY table.
	
*-------------------+-------------------------------------------+
| <<URL:>>			| /rest/party/:id							|
*-------------------+-------------------------------------------+
| <<Method:>>		| GET										|
*-------------------+-------------------------------------------+
| <<URL Params:>>	| <<Required:>> integer	\					|
| 					| <Example:> /rest/party/read/<<3>>			|
*-------------------+-------------------------------------------+
| <<Data Params:>>	| None										|
*-------------------+-------------------------------------------+
	
** Success Response

	Code: <<200>>
	
	Content: 
	
+--------------------- 
{  
   "id":3,
   "name":"Democratic Party",
   "foundedYear":"1828",
   "endYear":null
}
+---------------------

** Error Response

	<<Code:>> 4xx
	
	Plain text containing the error message from the server. 
	
	<Example:>

---------------------
Could not find party with id: 99
---------------------

** Sample Call

	Sample call using jQuery:

+--------------------- 
function read() {	
	$.getJSON(restURL + 'party', function(party){
		window.status(party.name);
	}).fail(function(XMLHttpRequest, textStatus, errorThrown) {
		alert(XMLHttpRequest.responseText);
    });
}
+---------------------

** Notes

	Last updated by drothauser 08/03/2016

* <List> 

*-------------------+---------------------------+
| <<URL:>>			| /rest/party				|
*-------------------+---------------------------+
| <<Method:>>		| GET						|
*-------------------+---------------------------+
| <<URL Params:>>	| None						|
*-------------------+---------------------------+
| <<Data Params:>>	| None						|
*-------------------+---------------------------+

** Success Response

	Code: <<200>>
	
	Content: <(excerpt)>
	
+--------------------- 
[  
   {  
      "id":1,
      "name":"Federalist Party",
      "foundedYear":1790,
      "endYear":1820
   },
   {  
      "id":2,
      "name":"Democratic-Republican Party",
      "foundedYear":1792,
      "endYear":1824
   }
]
+--------------------- 

** Error Response

	Code: <<500>>

** Sample Call

	Sample call using jQuery:

%{include|source=src/main/webapp/js/party-functions.js|snippet=#list}

** Notes

	Last updated by drothauser 07/27/2016

* <Update>

	API call that updates a new record in the {{{./db.html#PARTY_DDL}PARTY}} table.
	
*-------------------+---------------------------+
| <<URL:>>			| /rest/party				|
*-------------------+---------------------------+
| <<Method:>>		| PUT						|
*-------------------+---------------------------+
| <<URL Params:>>	| None						|
*-------------------+---------------------------+

** Data Params

	<<Notes:>>
	
	* JSON payload.
	
+---------------------
{  
   "id":1,
   "name":"Federalist Party",
   "foundedYear":1790,
   "endYear":1820
}
+---------------------

** Success Response

	<<Code:>> 200

	Plain text formatted as <<"Successfully updated Party ">> + <Party name> + "."
	
	<Example:>

---------------------
Successfully updated Democratic Party.
---------------------

** Error Response

	<<Code:>> 4xx, 500
	
	Plain text containing the error message from the server. 
	
	<Example:>

---------------------
com.fcci.dao.DaoRuntimeException: SQLException caught: java.sql.SQLException: The check constraint...
---------------------

** Sample Call

	Sample call using jQuery:

%{include|source=src/main/webapp/js/party-functions.js|snippet=#update}

** Notes

	Last updated by drothauser 07/27/2016

* <Delete>
	
	API call that deletes a record from the {{{./db.html#PARTY_DDL}PARTY}} table.
	
*-------------------+-------------------------------------------+
| <<URL:>>			| /rest/party/:id							|
*-------------------+-------------------------------------------+
| <<Method:>>		| DELETE										|
*-------------------+-------------------------------------------+
| <<URL Params:>>	| <<Required:>> integer	\					|
| 					| <Example:> /rest/party/<<3>>				|
*-------------------+-------------------------------------------+
| <<Data Params:>>	| None										|
*-------------------+-------------------------------------------+
	
** Success Response

	<<Code:>> 200

	Plain text formatted as <<"Deleted Party ">> + <Party name> + "."
	
	<Example:>

---------------------
Successfully deleted Democratic Party.
---------------------

** Error Response

	<<Code:>> 4xx, 500
	
	Plain text containing the error message from the server. 
	
	<Example:>

---------------------
Could not find president with id: 99
---------------------

** Sample Call

	Sample call using jQuery:

%{include|source=src/main/webapp/js/party-functions.js|snippet=#delete}


** Notes

	Last updated by drothauser 09/06/2016
